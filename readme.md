# RISC-V CPU 项目

本项目实现了一个基本的 RISC-V 架构 CPU，包含完整的指令解码、执行和内存访问功能。

## 项目结构

```text
ADDL_RISCV_CPU/
├── readme.md               # 项目说明文件（本文件）
├── tb_*.vcd                # 测试波形文件
├── tb_*.view               # 波形查看器配置文件
├── prj/                    # 项目构建目录 (项目自动生成)
│   └── ...                 # 自动生成的文件
└── user/                   # 用户代码
    ├── data/               # 数据文件
    ├── inc/                # 包含文件
    │   ├── include.md      # 包含文件说明
    │   └── ...             # 其他包含文件
    ├── sim/                # 仿真文件
    │   ├── testbench.md    # 测试说明文档
    │   └── ...             # 其他测试文件
    └── src/                # 源代码
        ├── core/           # 核心集成文件
        │   ├── core.md     # 核心模块文档
        │   └── ...         # 核心模块
        ├── modules/        # 模块实现目录
        │   ├── modules.md  # 模块文档
        │   └── ...         # 其他模块实现
        └── stages/         # 流水线阶段实现
            ├── stages.md   # 流水线阶段文档
            └── ...         # 其他阶段实现
```

## 文件夹说明

### 顶层目录

- **project_structure.md**: 详细的项目结构说明文档
- **test.md**: 测试方法和结果文档
- **tb\_\*.vcd**: 测试波形文件，记录各模块仿真结果
- **tb\_\*.view**: 波形查看器配置文件

### prj/ 目录

项目构建相关文件:

- **icarus/**: Icarus Verilog 仿真器构建文件
- **netlist/**: 网表生成相关文件，包含综合脚本和日志

### user/ 目录

用户代码和相关资源:

- **data/**: 项目数据文件
- **docs/**: 项目文档，包含 ALU 操作码说明等
- **inc/**: 包含文件目录，存放各种定义和常量
- **sim/**: 仿真测试文件目录
- **src/**: 源代码目录

### user/inc/ 目录

包含定义常量、接口和操作码的头文件:

- **alu_opcode.v**: 定义 ALU 操作码
- **CSR_opcode.v**: 定义 CSR 操作码
- **memory_select.v**: 定义内存选择信号
- **registers_writeback.v**: 定义寄存器回写选择信号

### user/src/ 目录

源代码实现:

- **core/**: 核心集成文件
- **modules/**: 各个功能模块实现
- **stages/**: 流水线阶段实现

## 模块架构

```raw
+---------------+    +------------------+    +---------------+
| Program       |    | Instruction      |    | Register      |
| Counter       |--->| Decoder          |--->| File          |
+---------------+    +------------------+    +---------------+
       ^                     |                      |
       |                     v                      v
       |              +-------------+         +------------+
       |              | Control     |         | ALU        |
       +--------------+ Logic       |<------->|            |
                      +-------------+         +------------+
                             |                      |
                             v                      v
                      +------------------+    +------------+
                      | CSR              |    | Memory     |
                      | Registers        |    | Controller |
                      +------------------+    +------------+
```
